# coding: utf-8

"""
    Test utilities for vpcloud_client SDK tests.

    Generated by OpenAPI Generator (https://openapi-generator.tech)
    Do not edit the class manually.
"""  # noqa: E501

import uuid
from typing import Optional, Dict, Any
from unittest.mock import Mock, MagicMock
from vpcloud_client import Configuration, ApiClient
from vpcloud_client.retry import RetryStrategy


class MockResponse:
    """Mock HTTP response for testing."""
    
    def __init__(self, status_code: int, headers: Optional[Dict] = None, 
                 data: Optional[bytes] = None, reason: Optional[str] = None):
        """Initialize mock response.
        
        :param status_code: HTTP status code
        :param headers: Response headers dictionary
        :param data: Response body data
        :param reason: HTTP reason phrase
        """
        self.status = status_code
        self.reason = reason or ("OK" if status_code < 400 else "Error")
        self.headers = headers or {}
        self.data = data or b""
    
    def getheader(self, name: str, default: Optional[str] = None) -> Optional[str]:
        """Get a response header."""
        return self.headers.get(name, default)
    
    def getheaders(self) -> Dict[str, str]:
        """Get all response headers."""
        return self.headers
    
    def read(self) -> bytes:
        """Read response data."""
        return self.data


def create_test_config(
    retry_strategy: Optional[RetryStrategy] = None,
    auto_idempotency_key: bool = True,
    **kwargs
) -> Configuration:
    """Create a test Configuration instance.
    
    :param retry_strategy: Optional RetryStrategy instance
    :param auto_idempotency_key: Whether to auto-generate idempotency keys
    :param kwargs: Additional configuration parameters
    :return: Configuration instance for testing
    """
    return Configuration(
        host="https://api.test.example.com",
        retry_strategy=retry_strategy,
        auto_idempotency_key=auto_idempotency_key,
        **kwargs
    )


def create_test_api_client(config: Optional[Configuration] = None) -> ApiClient:
    """Create a test ApiClient instance.
    
    :param config: Optional Configuration instance
    :return: ApiClient instance for testing
    """
    if config is None:
        config = create_test_config()
    return ApiClient(config)

